<!doctype html>
<html>
  <head>
    <title>NBA Data Visualizations</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@6.1.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@6.2.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@7.0.2"></script>
  </head>
  <body>


    <div id="vis1"></div>
    <script type="text/javascript">
      var yourVlSpec = {
        "$schema": "https://vega.github.io/schema/vega-lite/v6.json",
        "data": {"url": "detailed_wins_losses_for_divisions.csv"},
        "title": "Divisional Record", // change name !!!!!!!!!!!!!
        "width": 300,
        "height": 300,

        "params": [
            {
                "name": "division_selector",
                "value": "Atlantic",
                "bind": {
                    "input": "select",
                    "options": ["Atlantic", "Central", "Southeast", "Southwest", "Northwest", "Pacific"],
                    "name": "Division"
                }
            }
        ],

        "transform": [ 
            {
                "filter": "datum.Division == division_selector"
            }
        ],


        "mark": "rect",
        "encoding": {
            "y": {"field": "Team1", "type": "nominal"},
            "x": {"field": "Team2", "type": "nominal"},
            "color": {"field": "Percentage", "type": "quantitative"},
            "tooltip": [
                {"field": "Team1", "type": "nominal"},
                {"field": "Team2", "type": "nominal"},
                {"field": "RecordForTeam1", "type": "nominal"},
                {"field": "Percentage", "type": "quantitative"},
            ],
        },
        "config": {
            "axis": {"grid": true, "tickBand": "extent"}
        }

      };
      vegaEmbed("#vis1", yourVlSpec);
    </script>

  </body>
</html>